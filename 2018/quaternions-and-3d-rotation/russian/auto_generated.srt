1
00:00:02,959 --> 00:00:05,194
Через минуту я укажу вам на отдельный веб-сайт, 

2
00:00:05,194 --> 00:00:08,640
на котором размещена короткая серия так называемых обучающих видеороликов.

3
00:00:09,220 --> 00:00:11,999
Это было сделано в сотрудничестве с Беном Итером, которого некоторые из вас, 

4
00:00:11,999 --> 00:00:14,960
возможно, знают как парня, который ведет отличный канал по компьютерной инженерии.

5
00:00:15,480 --> 00:00:17,974
И если вы не знаете, кто он такой, зрителям этого канала 

6
00:00:17,974 --> 00:00:20,820
наверняка понравится его контент, так что обязательно посмотрите.

7
00:00:21,300 --> 00:00:25,487
Однако для нас обоих это сотрудничество было чем-то особенным, и вся веб-разработка, 

8
00:00:25,487 --> 00:00:29,380
которая сделала возможными эти обучающие видеоролики, полностью благодаря Бену.

9
00:00:29,860 --> 00:00:32,799
Я не хочу здесь слишком много говорить об этом, это действительно то, 

10
00:00:32,799 --> 00:00:36,116
что вам нужно испытать на себе, это определенно один из самых крутых проектов, 

11
00:00:36,116 --> 00:00:37,880
над которыми я имел удовольствие работать.

12
00:00:38,300 --> 00:00:40,923
Однако перед этим, если вы сможете сдержать свое волнение, 

13
00:00:40,923 --> 00:00:44,481
я хочу использовать это видео как шанс немного разнообразить ситуацию с помощью 

14
00:00:44,481 --> 00:00:45,460
окружающего контекста.

15
00:00:46,900 --> 00:00:50,232
Итак, чтобы подготовить почву, в прошлом видео я описал кватернионы, 

16
00:00:50,232 --> 00:00:54,240
определенную четырехмерную систему счисления, которую версии Росомахи и старика из 

17
00:00:54,240 --> 00:00:56,606
«Один дома» 19-го века называли злом из-за того, 

18
00:00:56,606 --> 00:00:58,780
насколько запутанной она казалась в то время.

19
00:00:59,060 --> 00:01:02,391
И, возможно, вы тоже задаетесь вопросом, с какой стати кому-то нужна такая, 

20
00:01:02,391 --> 00:01:04,319
казалось бы, инопланетная система счисления.

21
00:01:05,200 --> 00:01:08,493
Одна из главных причин, особенно для программистов, заключается в том, 

22
00:01:08,493 --> 00:01:12,343
что они предоставляют действительно хороший способ описания трехмерной ориентации, 

23
00:01:12,343 --> 00:01:15,220
который не подвержен ошибкам и крайним случаям других методов.

24
00:01:15,820 --> 00:01:19,024
Я имею в виду, что они интересны с математической точки зрения по многим причинам, 

25
00:01:19,024 --> 00:01:21,303
но это приложение для компьютерной графики, робототехники, 

26
00:01:21,303 --> 00:01:24,083
виртуальной реальности и всего, что связано с 3D-ориентацией, вероятно, 

27
00:01:24,083 --> 00:01:26,400
является самым большим вариантом использования кватернионов.

28
00:01:26,400 --> 00:01:30,273
Возьмем, к примеру, мой друг, Энди Матущак, который раньше работал в Apple, 

29
00:01:30,273 --> 00:01:34,147
с удовольствием рассказал мне о доставке кода на сотни миллионов устройств, 

30
00:01:34,147 --> 00:01:38,275
который использует кватернионы для отслеживания модели телефона и его ориентации 

31
00:01:38,275 --> 00:01:39,040
в пространстве.

32
00:01:39,660 --> 00:01:42,401
Правильно, где-то внутри вашего телефона почти наверняка 

33
00:01:42,401 --> 00:01:45,240
работает программное обеспечение, использующее кватернионы.

34
00:01:46,340 --> 00:01:50,164
Дело в том, что есть и другие способы думать о вычислении вращений, 

35
00:01:50,164 --> 00:01:52,920
многие из которых гораздо проще, чем кватернионы.

36
00:01:53,250 --> 00:01:56,677
Например, любой из вас, знакомый с линейной алгеброй, знает, 

37
00:01:56,677 --> 00:02:00,780
что матрицы 3x3 действительно хорошо описывают трехмерные преобразования.

38
00:02:01,340 --> 00:02:05,833
И распространенный способ, которым многие программисты думают о построении матрицы 

39
00:02:05,833 --> 00:02:10,651
вращения для желаемой ориентации, — это представить вращение объекта вокруг трех простых 

40
00:02:10,651 --> 00:02:15,361
в понимании осей, где соответствующие углы для этих поворотов обычно называются углами 

41
00:02:15,361 --> 00:02:15,740
Эйлера.

42
00:02:16,580 --> 00:02:19,694
И это в основном работает, но одна большая проблема заключается в том, 

43
00:02:19,694 --> 00:02:22,502
что он уязвим для так называемой блокировки карданного подвеса, 

44
00:02:22,502 --> 00:02:26,100
когда когда две ваши оси вращения совпадают, вы теряете некоторую степень свободы.

45
00:02:26,700 --> 00:02:29,544
И это также может вызвать трудности и двусмысленности при 

46
00:02:29,544 --> 00:02:32,340
попытке интерполяции между двумя отдельными ориентациями.

47
00:02:32,940 --> 00:02:34,700
Если вам интересно узнать больше подробностей, 

48
00:02:34,700 --> 00:02:36,761
в Интернете можно найти множество отличных источников, 

49
00:02:36,761 --> 00:02:39,308
посвященных углам Эйлера и фиксации подвеса, и я оставил в описании 

50
00:02:39,308 --> 00:02:40,320
ссылки на некоторые из них.

51
00:02:41,040 --> 00:02:43,520
Кватернионы не только позволяют избежать таких проблем, 

52
00:02:43,520 --> 00:02:46,754
как блокировка карданного подвеса, они дают действительно плавный способ 

53
00:02:46,754 --> 00:02:49,013
интерполяции между двумя трехмерными ориентациями, 

54
00:02:49,013 --> 00:02:52,158
в котором отсутствуют неоднозначности углов Эйлера и который позволяет 

55
00:02:52,158 --> 00:02:54,417
избежать проблем числовой точности и нормализации, 

56
00:02:54,417 --> 00:02:57,740
которые возникают при попытке интерполяции. между двумя матрицами вращения.

57
00:02:58,780 --> 00:03:02,606
Чтобы разобраться в идее о том, как умножение в некоторой многомерной 

58
00:03:02,606 --> 00:03:06,596
системе счисления можно использовать для вычисления вращения, вспомните, 

59
00:03:06,596 --> 00:03:10,860
почему комплексные числа дают удобный метод для вычисления двумерных вращений.

60
00:03:11,540 --> 00:03:15,263
В частности, предположим, что у вас есть некоторая точка в двумерном пространстве, 

61
00:03:15,263 --> 00:03:18,448
например 4,1, и вы хотите знать новые координаты, которые вы получите, 

62
00:03:18,448 --> 00:03:21,320
если повернете эту точку на 30 градусов вокруг начала координат.

63
00:03:22,240 --> 00:03:24,620
Комплексные числа дают своего рода шикарный способ сделать это.

64
00:03:25,080 --> 00:03:28,889
Вы берете комплексное число, отклоняющееся на 30 градусов от горизонтали, 

65
00:03:28,889 --> 00:03:32,904
с величиной 1, потому что 30 градусов плюс грех 30 градусов, умноженный на i, 

66
00:03:32,904 --> 00:03:36,920
а затем умножаете его на свою точку, представленную в виде комплексного числа.

67
00:03:37,500 --> 00:03:40,337
Единственное правило, которое вам нужно знать для проведения этих вычислений, 

68
00:03:40,337 --> 00:03:42,120
заключается в том, что i2 равно отрицательному 1.

69
00:03:42,120 --> 00:03:46,480
Затем, что может показаться немного черной магией тем, кто впервые это изучает, 

70
00:03:46,480 --> 00:03:51,332
выполнение этого продукта на основе одного простого правила дает координаты новой точки, 

71
00:03:51,332 --> 00:03:53,840
точки, повернутой на 30 градусов от оригинала.

72
00:03:55,340 --> 00:03:58,779
Использование кватернионов для описания трехмерных вращений аналогично, 

73
00:03:58,779 --> 00:04:00,500
хотя внешний вид немного отличается.

74
00:04:01,100 --> 00:04:03,980
Допустим, вы хотите повернуть на некоторый угол вокруг некоторой оси.

75
00:04:04,700 --> 00:04:07,835
Сначала вы определяете эту ось с помощью единичного вектора, 

76
00:04:07,835 --> 00:04:10,507
который мы запишем как имеющий компоненты i, j и k, 

77
00:04:10,507 --> 00:04:14,260
нормализованные так, чтобы сумма квадратов этих компонентов была равна 1.

78
00:04:15,160 --> 00:04:19,864
Как и в случае с комплексными числами, вы используете угол для построения кватерниона, 

79
00:04:19,864 --> 00:04:24,299
принимая косинус этого угла в качестве действительной части плюс грех этого угла, 

80
00:04:24,299 --> 00:04:26,949
умноженный на мнимую часть, за исключением того, 

81
00:04:26,949 --> 00:04:31,600
что на этот раз мнимая часть состоит из трех компонентов, координат наша ось вращения.

82
00:04:32,520 --> 00:04:36,289
Ну, на самом деле вы берете половину ракурса, что может показаться совершенно 

83
00:04:36,289 --> 00:04:39,720
произвольным, но, надеюсь, к концу всего этого опыта это обретет смысл.

84
00:04:40,540 --> 00:04:45,201
Допустим, у вас есть некая трехмерная точка, которую мы запишем с помощью компонентов i, 

85
00:04:45,201 --> 00:04:48,187
j, k, и вы хотите знать координаты, которые вы получите, 

86
00:04:48,187 --> 00:04:51,540
если повернуть эту точку на указанный угол вокруг указанной оси.

87
00:04:52,360 --> 00:04:56,366
То, что вы делаете, — это не просто произведение одного кватерниона, 

88
00:04:56,366 --> 00:05:00,894
а своего рода сэндвич с кватернионами, где вы умножаете на q слева и обратное 

89
00:05:00,894 --> 00:05:01,940
значение q справа.

90
00:05:02,640 --> 00:05:05,987
Если вы знаете правила умножения i, j и k между собой, 

91
00:05:05,987 --> 00:05:11,099
вы можете выполнить эти два произведения, расширив все, или, что более реалистично, 

92
00:05:11,099 --> 00:05:12,560
поручить это компьютеру.

93
00:05:13,100 --> 00:05:16,609
И это может показаться немного черной магией: это 

94
00:05:16,609 --> 00:05:20,400
большое вычисление вернет вам повернутую версию точки.

95
00:05:21,160 --> 00:05:23,610
Наша цель — разобрать это и визуализировать, что 

96
00:05:23,610 --> 00:05:25,760
происходит с каждым из этих двух продуктов.

97
00:05:26,340 --> 00:05:30,549
Я рассмотрю метод размышлений об умножении кватернионов, описанный в прошлом видео, 

98
00:05:30,549 --> 00:05:34,708
и объясню, почему используется половина угла и почему вы должны умножать справа на 

99
00:05:34,708 --> 00:05:35,160
обратное.

100
00:05:35,940 --> 00:05:39,340
Теперь на экране и вверху описания вы найдете ссылку на eater.

101
00:05:39,340 --> 00:05:43,240
net кватернионы косой черты, где Бен подготовил обучающее видео, 

102
00:05:43,240 --> 00:05:46,840
в котором я объясняю, что происходит с вычислением вращения.

103
00:05:47,640 --> 00:05:49,000
Это просто здорово.

104
00:05:49,220 --> 00:05:50,340
Eater сделал здесь что-то потрясающее.

105
00:05:50,540 --> 00:05:52,795
Так что, по крайней мере, просто потратьте пару минут и посмотрите на это, 

106
00:05:52,795 --> 00:05:54,600
но мне бы хотелось, чтобы вы прошли через все это полностью.

