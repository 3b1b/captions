1
00:00:00,000 --> 00:00:02,900
您正在网上购买产品，并且看到三个不同的卖家。

2
00:00:03,460 --> 00:00:06,200
他们都以基本相同的价格提供相同的产品。

3
00:00:06,720 --> 00:00:10,640
其中一篇获得了 100% 的好评，但只有 10 条评论。

4
00:00:11,180 --> 00:00:14,740
另一个有 96% 的正面评价，总共 50 条评论。

5
00:00:15,220 --> 00:00:19,560
还有一个有 93% 的正面评价，但总共有 200 条评论。

6
00:00:20,300 --> 00:00:21,360
您应该购买哪一款？

7
00:00:28,120 --> 00:00:30,814
我认为我们都有这样的本能，即我们看到的 

8
00:00:30,814 --> 00:00:33,240
数据越多，我们对给定评级就越有信心。

9
00:00:33,760 --> 00:00:37,075
我们对看到 100% 的评级有点怀疑，因为它们通 

10
00:00:37,075 --> 00:00:40,390
常来自极少数的评论，这让我们感觉事情可能会以另一 

11
00:00:40,390 --> 00:00:43,440
种方式发展并给予较低的评级，这一点似乎更合理。

12
00:00:43,920 --> 00:00:45,840
但如何使这种直觉量化呢？

13
00:00:46,420 --> 00:00:50,030
在从更多数据获得的信心与较低的绝对百 

14
00:00:50,030 --> 00:00:53,260
分比之间进行权衡的合理方法是什么？

15
00:00:54,540 --> 00:00:58,427
这个特殊的例子是对约翰·库克在他的优秀博客文章《 

16
00:00:58,427 --> 00:01:02,160
亚马逊经销商的贝叶斯评论》中给出的例子稍作修改。

17
00:01:02,620 --> 00:01:05,110
对于你我来说，这是一个深入研究概率

18
00:01:05,110 --> 00:01:07,600
和统计中的一些核心主题的绝佳借口。

19
00:01:08,320 --> 00:01:11,000
要真正正确地涵盖这些主题，需要时间。

20
00:01:11,560 --> 00:01:14,480
因此，我要做的就是将其分为三个视频， 

21
00:01:14,480 --> 00:01:17,247
在第一个视频中，我们将为这种情况建 

22
00:01:17,247 --> 00:01:19,860
立一个模型，并首先讨论二项式分布。

23
00:01:19,980 --> 00:01:26,380
第二个将引入贝叶斯更新的思想 ，以及如何处理连续值的概率。

24
00:01:27,040 --> 00:01:30,398
在第三个中，我们将研究一种称为 beta 分布的 

25
00:01:30,398 --> 00:01:33,756
东西，并使用一点 Python 来分析我们拥有的 

26
00:01:33,756 --> 00:01:36,980
数据，并根据您想要优化的内容得出各种不同的答案。

27
00:01:39,660 --> 00:01:43,012
现在，在我们深入讨论所有数学问题之前，为了给您一些启 

28
00:01:43,012 --> 00:01:46,240
发，让我向您展示其中一个答案是什么，因为它非常简单。

29
00:01:46,880 --> 00:01:50,594
当您看到在线评级（例如满分 10 分 中的 10 

30
00:01:50,594 --> 00:01:54,754
分）时，您会假装还有两条 评论，一条是正面的，另一条是负

31
00:01:54,754 --> 00:01:55,200
面的。

32
00:01:55,860 --> 00:02:00,032
在本例中，这意味着您假装是 12 中的 11，即 91。

33
00:02:00,032 --> 00:02:00,479
7%。

34
00:02:01,500 --> 00:02:05,720
这个数字是您与该卖家获得良好体验的概率。

35
00:02:05,720 --> 00:02:08,813
因此，在 50 条评论的情况下，您有 48 

36
00:02:08,813 --> 00:02:12,329
条正面评论和 2 条 负面评论，您假装它实际上是 

37
00:02:12,329 --> 00:02:15,703
49 条正面评论和 3 条负面评论 ，这将给您 

38
00:02:15,703 --> 00:02:19,360
52 条评论中的 49 条，即 94 条评论。2%。

39
00:02:20,500 --> 00:02:23,840
这就是您与第二个卖家获得良好体验的概率。

40
00:02:25,320 --> 00:02:29,448
与我们的第三个卖家（有 200 条评论）玩同一个游戏，您会 

41
00:02:29,448 --> 00:02:33,440
得到 202 条评论中的 187 条，即 92 条。6%。

42
00:02:34,640 --> 00:02:37,840
因此，根据这条规则，这意味着您最好的选择是选择 2 号卖家。

43
00:02:37,840 --> 00:02:42,691
这就是所谓的拉普拉斯继承规则，它可以追溯到 18 

44
00:02:42,691 --> 00:02:45,990
世纪，为了了解其背后的假设是什么 

45
00:02:45,990 --> 00:02:50,259
，以及改变这些假设或你的潜在目标如何改变你 

46
00:02:50,259 --> 00:02:54,140
所做的选择，我们确实需要了解所有的数学。

47
00:02:54,660 --> 00:02:56,359
因此，事不宜迟，让我们开始吧。

48
00:03:00,840 --> 00:03:03,539
第 1 步，我们到底如何对情况进 

49
00:03:03,539 --> 00:03:06,080
行建模，以及您到底想要优化什么？

50
00:03:06,700 --> 00:03:10,612
一种选择是认为每个卖家都会产生积极 

51
00:03:10,612 --> 00:03:14,307
或消极的随机体验，并且每个卖家都 

52
00:03:14,307 --> 00:03:18,002
有某种提供良好体验的恒定潜在概率 

53
00:03:18,002 --> 00:03:21,480
，我们称之为成功率，或 S短的。

54
00:03:21,900 --> 00:03:24,100
整个挑战是我们不了解 S。

55
00:03:25,640 --> 00:03:28,504
当您看到 10 条评论的首次评级为 100% 

56
00:03:28,504 --> 00:03:31,120
时，这并不意味着潜在的成功率为 100%。

57
00:03:31,640 --> 00:03:33,920
很可能是 95% 左右。

58
00:03:33,920 --> 00:03:38,625
为了说明这一点，让我运行一个小模拟，我选 择一个 

59
00:03:38,625 --> 00:03:43,142
0 到 1 之间的随机数，以及它 是否小于 0。

60
00:03:43,142 --> 00:03:47,660
95、我会把它记为 正面评论，否则记为负面评论。

61
00:03:48,760 --> 00:03:54,246
现在连续执行 10 次， 然后再做 10 次、再 做 

62
00:03:54,246 --> 00:03:59,733
10 次、再做 10 次，以此类推，以了解 成功率为 

63
00:03:59,733 --> 00:04:05,220
0 的卖家的 10 条评论的顺序。9 5往往看起来像。

64
00:04:05,740 --> 00:04:08,575
其中相当多的人（实际上大约 60%）给出了满分 

65
00:04:08,575 --> 00:04:09,520
10 分的评分。

66
00:04:10,020 --> 00:04:12,176
因此，如果卖家的真实成功率为 95

67
00:04:12,176 --> 00:04:14,460
%，那么我们看到的数据似乎完全合理。

68
00:04:15,580 --> 00:04:18,039
或者也许真的是90%，或者99%。

69
00:04:18,700 --> 00:04:20,680
整个挑战在于我们不知道。

70
00:04:21,600 --> 00:04:25,374
至于目标，假设您只是想最大限度地提高获 

71
00:04:25,374 --> 00:04:28,960
得积极体验的可能性，尽管不确定成功率。

72
00:04:29,860 --> 00:04:31,340
所以在这里考虑一下这个问题。

73
00:04:31,460 --> 00:04:35,440
我们为每个卖家提供了许多不同的可能成功率，从 

74
00:04:35,440 --> 00:04:39,939
0 到 1 的任意数字，并且我们需要说明这些成功率 

75
00:04:39,939 --> 00:04:43,920
中的每一个的可能性有多大，这是一种概率的概率。

76
00:04:45,120 --> 00:04:48,608
与抛硬币和掷骰子等更加游戏化的例子不同 

77
00:04:48,608 --> 00:04:52,097
，以及您在介绍性概率课程中看到的那种事 

78
00:04:52,097 --> 00:04:55,411
情，您假设长期运行频率，例如二分之一 

79
00:04:55,411 --> 00:04:58,900
或六分之一，我们在这里拥有的是关于长期 

80
00:04:58,900 --> 00:05:02,040
运行频率本身，这是一种更强烈的怀疑。

81
00:05:03,160 --> 00:05:07,520
我还应该强调，这种设置与现实世界中的许多情况相关，在 

82
00:05:07,520 --> 00:05:11,720
这些情况下，您需要根据有限的数据对随机过程做出判断。

83
00:05:12,860 --> 00:05:16,928
例如，假设您正在建立一家生产汽车的工厂，在对 10 

84
00:05:16,928 --> 00:05:20,840
0 辆汽车进行初步测试时，其中两辆出现了某种问题。

85
00:05:21,400 --> 00:05:26,145
如果您计划生产 100 万辆汽车，您愿意自 

86
00:05:26,145 --> 00:05:30,460
信地说有多少辆汽车将出现需要解决的问题？

87
00:05:31,240 --> 00:05:36,660
测试并不是保证真实错误率为 2%，但它到底说了什么？

88
00:05:38,620 --> 00:05:40,320
作为您的第一个挑战，让我问您这个问题。

89
00:05:40,320 --> 00:05:45,802
如果您确实神奇地知道某个卖家的真实成功率（假设为 95% 

90
00:05:45,802 --> 00:05:51,095
），您将如何计算看到 10 条正面评论和 0 条负面评 

91
00:05:51,095 --> 00:05:56,200
论、48 条和 2 条、186 条和 14 条的概率？

92
00:05:57,120 --> 00:06:02,160
换句话说，在给定假设的成功率的情况下，看到数据的概率是多少？

93
00:06:03,060 --> 00:06:07,006
刚才，我通过模拟向您展示了类似的东西，生成 

94
00:06:07,006 --> 00:06:11,133
10 条随机评论，并且通过一些编程，您可以多 

95
00:06:11,133 --> 00:06:15,080
次执行此操作，构建直方图以了解此分布的样子。

96
00:06:21,659 --> 00:06:25,133
同样，您可以模拟 50 条评论，并了解看到 

97
00:06:25,133 --> 00:06:29,080
48 条正面评论和 2 条负面评论的可能性有多大。

98
00:06:29,900 --> 00:06:31,580
你看，这就是概率的好处。

99
00:06:31,960 --> 00:06:34,882
一点点编程几乎总能让你作一点小作弊 

100
00:06:34,882 --> 00:06:37,480
，并通过模拟提前看看答案是什么。

101
00:06:37,840 --> 00:06:40,654
例如，在 50 条评论的几十万个样本之后 

102
00:06:40,654 --> 00:06:44,139
，假设成功率为 95%，那么看起来大约是 26 条。

103
00:06:44,139 --> 00:06:48,160
其中 1% 的人会给我们 48 分（满分 50 分）的评价。

104
00:06:49,200 --> 00:06:52,440
幸运的是，在这种情况下，精确的公式一点也不差。

105
00:06:52,980 --> 00:06:56,820
50 次中恰好看到 48 次的概率如下所示。

106
00:06:57,740 --> 00:07:02,890
第一项发音为 50 选择 48，它 表示您可以选择 

107
00:07:02,890 --> 00:07:08,040
50 个空位并填写 其中的 48 个空位的方式总数。

108
00:07:09,099 --> 00:07:14,044
例如，也许您以 48 条好评开始，以 2 条差评结束，或者 

109
00:07:14,044 --> 00:07:18,660
您可能以 47 条好评开始，然后变得很差、好、坏，等等。

110
00:07:19,100 --> 00:07:23,238
原则上，如果您要像这样枚举填充 50 个槽中的 

111
00:07:23,238 --> 00:07:27,376
48 个槽的所有可能方法 ，则这些模式的总数为 

112
00:07:27,376 --> 00:07:31,860
50 选择 4 8，在本例中计算结果为 1,225。

113
00:07:32,680 --> 00:07:34,000
我们乘以这个计数是多少？

114
00:07:34,000 --> 00:07:37,745
好吧，它是这些模式中任何一种模式的 

115
00:07:37,745 --> 00:07:43,779
概率，即单个正面评论的概率提高到单 个负面评论概率平方的 

116
00:07:43,779 --> 00:07:44,820
48 倍。

117
00:07:45,640 --> 00:07:49,402
至关重要的是，我们假设每个评论都独立于上一个评 

118
00:07:49,402 --> 00:07:53,008
论，因此我们可以像这样将所有概率相乘，并用我 

119
00:07:53,008 --> 00:07:56,143
们拥有的数字，当你评估它时，结果是 0。

120
00:07:56,143 --> 00:08:00,220
26 1，这与我们刚刚在模拟中凭经验看到的结果相符。

121
00:08:01,380 --> 00:08:04,951
您还可以将这个 48 替换为其他值 

122
00:08:04,951 --> 00:08:08,325
，并计算看到任何其他数量的正面评 

123
00:08:08,325 --> 00:08:11,500
论的概率，再次假设给定的成功率。

124
00:08:14,760 --> 00:08:20,575
顺便说一句，您现在看到的在 业界称为二项式分布，这是 

125
00:08:20,575 --> 00:08:23,160
概率中最基本的分布之一。

126
00:08:23,860 --> 00:08:27,623
每当你遇到像抛硬币这样的事情时，它就会出现，这是 

127
00:08:27,623 --> 00:08:31,237
一个可以以两种方式之一发生的随机事件，并且你重 

128
00:08:31,237 --> 00:08:34,700
复多次，而你想知道的是获得各种不同总数的概率。

129
00:08:34,700 --> 00:08:38,788
出于我们的目的，这个公式为我们提供了在给 

130
00:08:38,788 --> 00:08:42,877
定假设成功率的情况下看到数据的概率，最终 

131
00:08:42,877 --> 00:08:46,966
我们希望以某种方式使用它来做出相反的判断 

132
00:08:46,966 --> 00:08:50,860
，即给定我们看到的固定数据的成功率概率。

133
00:08:51,320 --> 00:08:53,440
这些是相关的，但绝对不同。

134
00:08:54,060 --> 00:08:57,610
为了在这个方向上获得更多信息，让我们尝试一下 s 

135
00:08:57,610 --> 00:09:00,592
的值，看看 当我们将其更改为 0 到 1 

136
00:09:00,592 --> 00:09:02,580
之间的不同数字时会发生什么。

137
00:09:04,560 --> 00:09:10,860
它产生的二项式分布有点像以 s 乘以 50 为中心的一堆。

138
00:09:11,460 --> 00:09:15,150
我们关心的值，即在 50 条评论中看到 48 

139
00:09:15,150 --> 00:09:18,680
条评论的概率，由突出显示的第 48 条表示。

140
00:09:19,400 --> 00:09:24,600
因此，让我们在底部绘制第二个图，表示该值如何取决于 s。

141
00:09:25,480 --> 00:09:30,320
当s等于0时。96，这个值是有史以来最高的。

142
00:09:30,840 --> 00:09:35,264
这应该是有道理的，因为当你看到 96% 的评论 

143
00:09:35,264 --> 00:09:39,319
时，最有可能的是真正的潜在成功率为 96%。

144
00:09:41,000 --> 00:09:45,820
随着 s 的增加，它会逐渐减弱，当 s 接近 1 时，它会 

145
00:09:45,820 --> 00:09:50,480
趋于 0，因为具有完美成功率的人永远不会有这两个负面评论。

146
00:09:51,420 --> 00:09:54,560
另外，当你向左移动时，它很快就会接近 0。

147
00:09:56,900 --> 00:09:59,077
当你得到 s 等于 0 的时候。

148
00:09:59,077 --> 00:10:01,798
8、 在 50 条评论中偶然获得 48 

149
00:10:01,798 --> 00:10:05,200
条的情况 极为罕见，这种情况发生的几率是千分之一。

150
00:10:06,240 --> 00:10:09,965
我们在底部绘制的图是获得更定量描述的良好开端， 

151
00:10:09,965 --> 00:10:13,380
对于这些描述，s 的值感觉或多或少是合理的。

152
00:10:14,200 --> 00:10:18,500
写成一个公式，我希望您记住的是，作为成功率 

153
00:10:18,500 --> 00:10:22,997
s 的函数，该曲线看起来像是某个常数乘以 s 

154
00:10:22,997 --> 00:10:28,080
的正 面评论数量乘以 1 减去 s 的负面评论数量。

155
00:10:29,100 --> 00:10:32,505
原则上，如果我们有更多数据，例如 480 

156
00:10:32,505 --> 00:10:37,371
条正面评论 和 20 条负面评论，结果图仍将以 0 为中心。

157
00:10:37,371 --> 00:10:39,480
9 6，但会更小、更集中。

158
00:10:39,930 --> 00:10:44,220
现在一个很好的练习是看看你是否可以解释为什么会出现这种情况。

159
00:10:45,480 --> 00:10:49,480
然而，还有一个挥之不去的问题：如何处理这些曲线。

160
00:10:50,220 --> 00:10:53,198
我的意思是，我们的目标是计算您与该卖 

161
00:10:53,198 --> 00:10:56,020
家有良好体验的概率，那么您会做什么？

162
00:10:57,000 --> 00:11:01,243
天真地，您可能认为概率是 96%，因为那是图表的峰 

163
00:11:01,243 --> 00:11:05,160
值所在，从某种意义上来说，这是最有可能的成功率。

164
00:11:05,620 --> 00:11:07,860
但想想这个例子，十个中有十个是积极的。

165
00:11:07,860 --> 00:11:13,260
在这种情况下，整个二项式公式简化为 s 的 10 次方。

166
00:11:15,080 --> 00:11:18,011
连续看到 10 条好评的概率就是看到其 

167
00:11:18,011 --> 00:11:20,650
中一条好评上升到第 10 条的概率。

168
00:11:21,320 --> 00:11:26,660
真实成功率越接近 1，在 10 中看到 10 的概率就越高。

169
00:11:27,220 --> 00:11:30,980
当 s 接近 1 时，我们底部的图只会增加。

170
00:11:32,400 --> 00:11:35,889
但即使 s 等于 1 是使该概率最大化 

171
00:11:35,889 --> 00:11:40,077
的值，您肯定也不会放心地说您个人有 1 00% 

172
00:11:40,077 --> 00:11:42,520
的概率与该卖家获得良好体验。

173
00:11:43,460 --> 00:11:47,146
也许您认为我们应该寻找该图的某种 

174
00:11:47,146 --> 00:11:50,400
质心，这绝对是在正确的轨道上。

175
00:11:51,300 --> 00:11:55,826
不过，首先，我们需要解释如何使用这个表达式 来表示给定 

176
00:11:55,826 --> 00:11:59,545
s 值时我们所看到的数据的概 率，并获得 s 

177
00:11:59,545 --> 00:12:04,071
值的概率，这是我们实际上 不知道的，给定数据，我们实际知

178
00:12:04,071 --> 00:12:04,880
道的东西。

179
00:12:05,380 --> 00:12:09,980
这就需要我们讨论贝叶斯规则以及概率密度函数。

180
00:12:10,620 --> 00:12:12,060
对于这些，我们将在第 2 部分中见。

