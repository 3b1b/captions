1
00:00:00,000 --> 00:00:02,900
您正在网上购买产品，并且看到三个不同的卖家。

2
00:00:03,460 --> 00:00:06,200
他们都以基本相同的价格提供相同的产品。

3
00:00:06,720 --> 00:00:10,640
其中一篇获得了 100% 的好评，但只有 10 条评论。

4
00:00:11,180 --> 00:00:14,740
另一个有 96% 的正面评价，总共 50 条评论。

5
00:00:15,220 --> 00:00:19,560
还有一个有 93% 的正面评价，但总共有 200 条评论。

6
00:00:20,300 --> 00:00:21,360
您应该购买哪一款？

7
00:00:28,120 --> 00:00:31,488
我认为我们都有这样的本能，即我们看到的 数据越多，

8
00:00:31,488 --> 00:00:33,240
我们对给定评级就越有信心。

9
00:00:33,760 --> 00:00:36,279
我们对看到 100% 的评级有点怀疑，

10
00:00:36,279 --> 00:00:38,401
因为它们通 常来自极少数的评论，

11
00:00:38,401 --> 00:00:42,246
这让我们感觉事情可能会以另一 种方式发展并给予较低的评级，

12
00:00:42,246 --> 00:00:43,440
这一点似乎更合理。

13
00:00:43,920 --> 00:00:45,840
但如何使这种直觉量化呢？

14
00:00:46,420 --> 00:00:50,030
在从更多数据获得的信心与较低的绝对百 

15
00:00:50,030 --> 00:00:53,260
分比之间进行权衡的合理方法是什么？

16
00:00:54,540 --> 00:00:58,427
这个特殊的例子是对约翰·库克在他的优秀博客文章《 

17
00:00:58,427 --> 00:01:02,160
亚马逊经销商的贝叶斯评论》中给出的例子稍作修改。

18
00:01:02,620 --> 00:01:05,110
对于你我来说，这是一个深入研究概率

19
00:01:05,110 --> 00:01:07,600
和统计中的一些核心主题的绝佳借口。

20
00:01:08,320 --> 00:01:11,000
要真正正确地涵盖这些主题，需要时间。

21
00:01:11,560 --> 00:01:15,710
因此，我要做的就是将其分为三个视频， 在第一个视频中，

22
00:01:15,710 --> 00:01:19,860
我们将为这种情况建 立一个模型，并首先讨论二项式分布。

23
00:01:19,980 --> 00:01:26,380
第二个将引入贝叶斯更新的思想 ，以及如何处理连续值的概率。

24
00:01:27,040 --> 00:01:30,801
在第三个中，我们将研究一种称为 beta 分布的 东西，

25
00:01:30,801 --> 00:01:34,159
并使用一点 Python 来分析我们拥有的 数据，

26
00:01:34,159 --> 00:01:36,980
并根据您想要优化的内容得出各种不同的答案。

27
00:01:39,660 --> 00:01:43,260
现在，在我们深入讨论所有数学问题之前，为了给您一些启 发，

28
00:01:43,260 --> 00:01:46,240
让我向您展示其中一个答案是什么，因为它非常简单。

29
00:01:46,880 --> 00:01:51,188
当您看到在线评级（例如满分 10 分 中的 10 分）时，

30
00:01:51,188 --> 00:01:55,200
您会假装还有两条 评论，一条是正面的，另一条是负面的。

31
00:01:55,860 --> 00:01:59,287
在本例中，这意味着您假装是 12 中的 11，

32
00:01:59,287 --> 00:02:00,479
即 91。7%。

33
00:02:01,500 --> 00:02:05,720
这个数字是您与该卖家获得良好体验的概率。

34
00:02:05,720 --> 00:02:07,969
因此，在 50 条评论的情况下，

35
00:02:07,969 --> 00:02:11,063
您有 48 条正面评论和 2 条 负面评论，

36
00:02:11,063 --> 00:02:15,000
您假装它实际上是 49 条正面评论和 3 条负面评论 ，

37
00:02:15,000 --> 00:02:18,938
这将给您 52 条评论中的 49 条，即 94 条评论。

38
00:02:18,938 --> 00:02:19,360
2%。

39
00:02:20,500 --> 00:02:23,840
这就是您与第二个卖家获得良好体验的概率。

40
00:02:25,320 --> 00:02:29,035
与我们的第三个卖家（有 200 条评论）玩同一个游戏，

41
00:02:29,035 --> 00:02:33,027
您会 得到 202 条评论中的 187 条，即 92 条。

42
00:02:33,027 --> 00:02:33,440
6%。

43
00:02:34,640 --> 00:02:37,840
因此，根据这条规则，这意味着您最好的选择是选择 2 号卖家。

44
00:02:37,840 --> 00:02:43,273
这就是所谓的拉普拉斯继承规则，它可以追溯到 18 世纪，

45
00:02:43,273 --> 00:02:48,706
为了了解其背后的假设是什么 ，以及改变这些假设或你的潜在

46
00:02:48,706 --> 00:02:54,140
目标如何改变你 所做的选择，我们确实需要了解所有的数学。

47
00:02:54,660 --> 00:02:56,359
因此，事不宜迟，让我们开始吧。

48
00:03:00,840 --> 00:03:04,174
第 1 步，我们到底如何对情况进 行建模，

49
00:03:04,174 --> 00:03:06,080
以及您到底想要优化什么？

50
00:03:06,700 --> 00:03:12,568
一种选择是认为每个卖家都会产生积极 或消极的随机体验，

51
00:03:12,568 --> 00:03:18,219
并且每个卖家都 有某种提供良好体验的恒定潜在概率 ，

52
00:03:18,219 --> 00:03:21,480
我们称之为成功率，或 S短的。

53
00:03:21,900 --> 00:03:24,100
整个挑战是我们不了解 S。

54
00:03:25,640 --> 00:03:28,753
当您看到 10 条评论的首次评级为 100% 时，

55
00:03:28,753 --> 00:03:31,120
这并不意味着潜在的成功率为 100%。

56
00:03:31,640 --> 00:03:33,920
很可能是 95% 左右。

57
00:03:33,920 --> 00:03:37,307
为了说明这一点，让我运行一个小模拟，

58
00:03:37,307 --> 00:03:41,072
我选 择一个 0 到 1 之间的随机数，

59
00:03:41,072 --> 00:03:45,966
以及它 是否小于 0。95、我会把它记为 正面评论，

60
00:03:45,966 --> 00:03:47,660
否则记为负面评论。

61
00:03:48,760 --> 00:03:54,246
现在连续执行 10 次， 然后再做 10 次、再 做 

62
00:03:54,246 --> 00:03:57,904
10 次、再做 10 次，以此类推，

63
00:03:57,904 --> 00:04:03,187
以了解 成功率为 0 的卖家的 10 条评论的顺序。

64
00:04:03,187 --> 00:04:05,220
9 5往往看起来像。

65
00:04:05,740 --> 00:04:08,575
其中相当多的人（实际上大约 60%）给出了满分 

66
00:04:08,575 --> 00:04:09,520
10 分的评分。

67
00:04:10,020 --> 00:04:12,430
因此，如果卖家的真实成功率为 95%，

68
00:04:12,430 --> 00:04:14,460
那么我们看到的数据似乎完全合理。

69
00:04:15,580 --> 00:04:18,039
或者也许真的是90%，或者99%。

70
00:04:18,700 --> 00:04:20,680
整个挑战在于我们不知道。

71
00:04:21,600 --> 00:04:27,261
至于目标，假设您只是想最大限度地提高获 得积极体验的可能性，

72
00:04:27,261 --> 00:04:28,960
尽管不确定成功率。

73
00:04:29,860 --> 00:04:31,340
所以在这里考虑一下这个问题。

74
00:04:31,460 --> 00:04:35,094
我们为每个卖家提供了许多不同的可能成功率，

75
00:04:35,094 --> 00:04:39,939
从 0 到 1 的任意数字，并且我们需要说明这些成功率 

76
00:04:39,939 --> 00:04:43,920
中的每一个的可能性有多大，这是一种概率的概率。

77
00:04:45,120 --> 00:04:48,783
与抛硬币和掷骰子等更加游戏化的例子不同 ，

78
00:04:48,783 --> 00:04:52,446
以及您在介绍性概率课程中看到的那种事 情，

79
00:04:52,446 --> 00:04:56,458
您假设长期运行频率，例如二分之一 或六分之一，

80
00:04:56,458 --> 00:05:00,121
我们在这里拥有的是关于长期 运行频率本身，

81
00:05:00,121 --> 00:05:02,040
这是一种更强烈的怀疑。

82
00:05:03,160 --> 00:05:07,197
我还应该强调，这种设置与现实世界中的许多情况相关，

83
00:05:07,197 --> 00:05:11,720
在 这些情况下，您需要根据有限的数据对随机过程做出判断。

84
00:05:12,860 --> 00:05:15,989
例如，假设您正在建立一家生产汽车的工厂，

85
00:05:15,989 --> 00:05:18,962
在对 10 0 辆汽车进行初步测试时，

86
00:05:18,962 --> 00:05:20,840
其中两辆出现了某种问题。

87
00:05:21,400 --> 00:05:25,067
如果您计划生产 100 万辆汽车，

88
00:05:25,067 --> 00:05:30,460
您愿意自 信地说有多少辆汽车将出现需要解决的问题？

89
00:05:31,240 --> 00:05:36,660
测试并不是保证真实错误率为 2%，但它到底说了什么？

90
00:05:38,620 --> 00:05:40,320
作为您的第一个挑战，让我问您这个问题。

91
00:05:40,320 --> 00:05:45,802
如果您确实神奇地知道某个卖家的真实成功率（假设为 95% 

92
00:05:45,802 --> 00:05:51,095
），您将如何计算看到 10 条正面评论和 0 条负面评 

93
00:05:51,095 --> 00:05:56,200
论、48 条和 2 条、186 条和 14 条的概率？

94
00:05:57,120 --> 00:06:02,160
换句话说，在给定假设的成功率的情况下，看到数据的概率是多少？

95
00:06:03,060 --> 00:06:06,468
刚才，我通过模拟向您展示了类似的东西，

96
00:06:06,468 --> 00:06:10,236
生成 10 条随机评论，并且通过一些编程，

97
00:06:10,236 --> 00:06:15,080
您可以多 次执行此操作，构建直方图以了解此分布的样子。

98
00:06:21,659 --> 00:06:24,185
同样，您可以模拟 50 条评论，

99
00:06:24,185 --> 00:06:27,027
并了解看到 48 条正面评论和 2 

100
00:06:27,027 --> 00:06:29,080
条负面评论的可能性有多大。

101
00:06:29,900 --> 00:06:31,580
你看，这就是概率的好处。

102
00:06:31,960 --> 00:06:35,044
一点点编程几乎总能让你作一点小作弊 ，

103
00:06:35,044 --> 00:06:37,480
并通过模拟提前看看答案是什么。

104
00:06:37,840 --> 00:06:40,788
例如，在 50 条评论的几十万个样本之后 ，

105
00:06:40,788 --> 00:06:44,139
假设成功率为 95%，那么看起来大约是 26 条。

106
00:06:44,139 --> 00:06:48,160
其中 1% 的人会给我们 48 分（满分 50 分）的评价。

107
00:06:49,200 --> 00:06:52,440
幸运的是，在这种情况下，精确的公式一点也不差。

108
00:06:52,980 --> 00:06:56,820
50 次中恰好看到 48 次的概率如下所示。

109
00:06:57,740 --> 00:07:00,909
第一项发音为 50 选择 48，

110
00:07:00,909 --> 00:07:06,257
它 表示您可以选择 50 个空位并填写 其中的 48 

111
00:07:06,257 --> 00:07:08,040
个空位的方式总数。

112
00:07:09,099 --> 00:07:13,550
例如，也许您以 48 条好评开始，以 2 条差评结束，

113
00:07:13,550 --> 00:07:18,165
或者 您可能以 47 条好评开始，然后变得很差、好、坏，

114
00:07:18,165 --> 00:07:18,660
等等。

115
00:07:19,100 --> 00:07:23,238
原则上，如果您要像这样枚举填充 50 个槽中的 

116
00:07:23,238 --> 00:07:27,376
48 个槽的所有可能方法 ，则这些模式的总数为 

117
00:07:27,376 --> 00:07:31,860
50 选择 4 8，在本例中计算结果为 1,225。

118
00:07:32,680 --> 00:07:34,000
我们乘以这个计数是多少？

119
00:07:34,000 --> 00:07:38,369
好吧，它是这些模式中任何一种模式的 概率，

120
00:07:38,369 --> 00:07:43,779
即单个正面评论的概率提高到单 个负面评论概率平方的 

121
00:07:43,779 --> 00:07:44,820
48 倍。

122
00:07:45,640 --> 00:07:49,716
至关重要的是，我们假设每个评论都独立于上一个评 论，

123
00:07:49,716 --> 00:07:54,105
因此我们可以像这样将所有概率相乘，并用我 们拥有的数字，

124
00:07:54,105 --> 00:07:56,927
当你评估它时，结果是 0。26 1，

125
00:07:56,927 --> 00:08:00,220
这与我们刚刚在模拟中凭经验看到的结果相符。

126
00:08:01,380 --> 00:08:05,150
您还可以将这个 48 替换为其他值 ，

127
00:08:05,150 --> 00:08:09,317
并计算看到任何其他数量的正面评 论的概率，

128
00:08:09,317 --> 00:08:11,500
再次假设给定的成功率。

129
00:08:14,760 --> 00:08:19,929
顺便说一句，您现在看到的在 业界称为二项式分布，

130
00:08:19,929 --> 00:08:23,160
这是 概率中最基本的分布之一。

131
00:08:23,860 --> 00:08:27,172
每当你遇到像抛硬币这样的事情时，它就会出现，

132
00:08:27,172 --> 00:08:30,484
这是 一个可以以两种方式之一发生的随机事件，

133
00:08:30,484 --> 00:08:34,700
并且你重 复多次，而你想知道的是获得各种不同总数的概率。

134
00:08:34,700 --> 00:08:38,788
出于我们的目的，这个公式为我们提供了在给 

135
00:08:38,788 --> 00:08:42,293
定假设成功率的情况下看到数据的概率，

136
00:08:42,293 --> 00:08:47,160
最终 我们希望以某种方式使用它来做出相反的判断 ，

137
00:08:47,160 --> 00:08:50,860
即给定我们看到的固定数据的成功率概率。

138
00:08:51,320 --> 00:08:53,440
这些是相关的，但绝对不同。

139
00:08:54,060 --> 00:08:58,036
为了在这个方向上获得更多信息，让我们尝试一下 s 的值，

140
00:08:58,036 --> 00:09:00,592
看看 当我们将其更改为 0 到 1 

141
00:09:00,592 --> 00:09:02,580
之间的不同数字时会发生什么。

142
00:09:04,560 --> 00:09:10,860
它产生的二项式分布有点像以 s 乘以 50 为中心的一堆。

143
00:09:11,460 --> 00:09:16,273
我们关心的值，即在 50 条评论中看到 48 条评论的概率，

144
00:09:16,273 --> 00:09:18,680
由突出显示的第 48 条表示。

145
00:09:19,400 --> 00:09:24,600
因此，让我们在底部绘制第二个图，表示该值如何取决于 s。

146
00:09:25,480 --> 00:09:30,320
当s等于0时。96，这个值是有史以来最高的。

147
00:09:30,840 --> 00:09:35,633
这应该是有道理的，因为当你看到 96% 的评论 时，

148
00:09:35,633 --> 00:09:39,319
最有可能的是真正的潜在成功率为 96%。

149
00:09:41,000 --> 00:09:45,338
随着 s 的增加，它会逐渐减弱，当 s 接近 1 时，

150
00:09:45,338 --> 00:09:49,997
它会 趋于 0，因为具有完美成功率的人永远不会有这两个负面

151
00:09:49,997 --> 00:09:50,480
评论。

152
00:09:51,420 --> 00:09:54,560
另外，当你向左移动时，它很快就会接近 0。

153
00:09:56,900 --> 00:09:59,077
当你得到 s 等于 0 的时候。

154
00:09:59,077 --> 00:10:03,159
8、 在 50 条评论中偶然获得 48 条的情况 极为罕见，

155
00:10:03,159 --> 00:10:05,200
这种情况发生的几率是千分之一。

156
00:10:06,240 --> 00:10:09,810
我们在底部绘制的图是获得更定量描述的良好开端，

157
00:10:09,810 --> 00:10:13,380
 对于这些描述，s 的值感觉或多或少是合理的。

158
00:10:14,200 --> 00:10:19,673
写成一个公式，我希望您记住的是，作为成功率 s 的函数，

159
00:10:19,673 --> 00:10:23,583
该曲线看起来像是某个常数乘以 s 的正 

160
00:10:23,583 --> 00:10:28,080
面评论数量乘以 1 减去 s 的负面评论数量。

161
00:10:29,100 --> 00:10:32,505
原则上，如果我们有更多数据，例如 480 

162
00:10:32,505 --> 00:10:35,263
条正面评论 和 20 条负面评论，

163
00:10:35,263 --> 00:10:39,480
结果图仍将以 0 为中心。9 6，但会更小、更集中。

164
00:10:39,930 --> 00:10:44,220
现在一个很好的练习是看看你是否可以解释为什么会出现这种情况。

165
00:10:45,480 --> 00:10:49,480
然而，还有一个挥之不去的问题：如何处理这些曲线。

166
00:10:50,220 --> 00:10:54,765
我的意思是，我们的目标是计算您与该卖 家有良好体验的概率，

167
00:10:54,765 --> 00:10:56,020
那么您会做什么？

168
00:10:57,000 --> 00:11:01,896
天真地，您可能认为概率是 96%，因为那是图表的峰 值所在，

169
00:11:01,896 --> 00:11:05,160
从某种意义上来说，这是最有可能的成功率。

170
00:11:05,620 --> 00:11:07,860
但想想这个例子，十个中有十个是积极的。

171
00:11:07,860 --> 00:11:13,260
在这种情况下，整个二项式公式简化为 s 的 10 次方。

172
00:11:15,080 --> 00:11:18,011
连续看到 10 条好评的概率就是看到其 

173
00:11:18,011 --> 00:11:20,650
中一条好评上升到第 10 条的概率。

174
00:11:21,320 --> 00:11:26,660
真实成功率越接近 1，在 10 中看到 10 的概率就越高。

175
00:11:27,220 --> 00:11:30,980
当 s 接近 1 时，我们底部的图只会增加。

176
00:11:32,400 --> 00:11:36,413
但即使 s 等于 1 是使该概率最大化 的值，

177
00:11:36,413 --> 00:11:40,077
您肯定也不会放心地说您个人有 1 00% 

178
00:11:40,077 --> 00:11:42,520
的概率与该卖家获得良好体验。

179
00:11:43,460 --> 00:11:47,797
也许您认为我们应该寻找该图的某种 质心，

180
00:11:47,797 --> 00:11:50,400
这绝对是在正确的轨道上。

181
00:11:51,300 --> 00:11:55,826
不过，首先，我们需要解释如何使用这个表达式 来表示给定 

182
00:11:55,826 --> 00:12:00,353
s 值时我们所看到的数据的概 率，并获得 s 值的概率，

183
00:12:00,353 --> 00:12:04,880
这是我们实际上 不知道的，给定数据，我们实际知道的东西。

184
00:12:05,380 --> 00:12:09,980
这就需要我们讨论贝叶斯规则以及概率密度函数。

185
00:12:10,620 --> 00:12:12,060
对于这些，我们将在第 2 部分中见。

