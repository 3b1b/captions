1
00:00:00,000 --> 00:00:03,200
您正在网上购买产品，并且看到三个不同的卖家。

2
00:00:03,200 --> 00:00:06,560
他们都以基本相同的价格提供相同的产品。

3
00:00:06,560 --> 00:00:11,040
其中一篇获得了 100% 的好评，但只有 10 条评论。

4
00:00:11,040 --> 00:00:15,040
另一个有 96% 的正面评价，总共 50 条评论。

5
00:00:15,040 --> 00:00:19,440
还有一个有 93% 的正面评价，但总共有 200 条评论。

6
00:00:20,080 --> 00:00:21,200
您应该购买哪一款？

7
00:00:21,200 --> 00:00:31,120
我认为我们都有这样的本能，即我们看到的数据越多，我们对给定评级就越有信心。

8
00:00:31,120 --> 00:00:33,520


9
00:00:33,520 --> 00:00:36,160
我们对看到

10
00:00:36,160 --> 00:00:39,360
100%

11
00:00:39,360 --> 00:00:43,840
的评级有点怀疑，因为它们通常来自极少数的评论，这让我们感觉事情可能会以另一种方式发展并给予较低的评级，这一点似乎更合理。

12
00:00:43,840 --> 00:00:46,240
但如何使这种直觉量化呢？

13
00:00:46,240 --> 00:00:50,240
在从更多数据获得的信心与较低的绝对百分比之间进行权衡的合理方法是什么？

14
00:00:50,240 --> 00:00:53,200


15
00:00:54,320 --> 00:00:58,640
这个特殊的例子是对约翰·库克在他的优秀博客文章《亚马逊经销商的贝叶斯评论》中给出的例子稍作修改。

16
00:00:58,640 --> 00:01:02,480


17
00:01:02,480 --> 00:01:08,080
对于你我来说，这是一个深入研究概率和统计中的一些核心主题的绝佳借口。

18
00:01:08,080 --> 00:01:11,360
要真正正确地涵盖这些主题，需要时间。

19
00:01:11,360 --> 00:01:14,240
因此，我要做的就是将其分为三个视频，在第一个视频中，我们将为这种情况建立一个模型，并首先讨论二项式分布。

20
00:01:14,240 --> 00:01:17,280


21
00:01:17,280 --> 00:01:20,160


22
00:01:20,640 --> 00:01:23,600
第二个将引入贝叶斯更新的思想，以及如何处理连续值的概率。

23
00:01:23,600 --> 00:01:27,040


24
00:01:27,040 --> 00:01:30,720
在第三个中，我们将研究一种称为 beta

25
00:01:30,720 --> 00:01:33,520
分布的东西，并使用一点 Python

26
00:01:33,520 --> 00:01:37,600
来分析我们拥有的数据，并根据您想要优化的内容得出各种不同的答案。

27
00:01:39,680 --> 00:01:42,400
现在，在我们深入讨论所有数学问题之前，为了给您一些启发，让我向您展示其中一个答案是什么，因为它非常简单。

28
00:01:42,400 --> 00:01:47,040


29
00:01:47,040 --> 00:01:50,800
当您看到在线评级（例如满分 10

30
00:01:50,800 --> 00:01:53,440
分中的 10

31
00:01:53,440 --> 00:01:55,840
分）时，您会假装还有两条评论，一条是正面的，另一条是负面的。

32
00:01:55,840 --> 00:02:01,760
在本例中，这意味着您假装是 12 中的 11，即 91。 7%。

33
00:02:01,760 --> 00:02:06,320
这个数字是您与该卖家获得良好体验的概率。

34
00:02:08,080 --> 00:02:12,080
因此，在 50 条评论的情况下，您有 48 条正面评论和 2

35
00:02:12,080 --> 00:02:16,160
条负面评论，您假装它实际上是 49 条正面评论和 3 条负面评论，这将给您 52

36
00:02:16,160 --> 00:02:19,440
条评论中的 49 条，即 94 条评论。 2%。

37
00:02:20,560 --> 00:02:23,920
这就是您与第二个卖家获得良好体验的概率。

38
00:02:25,520 --> 00:02:29,040
与我们的第三个卖家（有 200 条评论）玩同一个游戏，您会得到 202 条评论中的

39
00:02:29,040 --> 00:02:33,440
187 条，即 92 条。 6%。

40
00:02:34,960 --> 00:02:38,720
因此，根据这条规则，这意味着您最好的选择是选择 2 号卖家。

41
00:02:39,520 --> 00:02:44,000
这就是所谓的拉普拉斯继承规则，它可以追溯到

42
00:02:44,000 --> 00:02:46,880
18

43
00:02:46,880 --> 00:02:52,320
世纪，为了了解其背后的假设是什么，以及改变这些假设或你的潜在目标如何改变你所做的选择，我们确实需要了解所有的数学。

44
00:02:52,320 --> 00:02:54,400


45
00:02:54,400 --> 00:02:56,240
因此，事不宜迟，让我们开始吧。

46
00:03:00,800 --> 00:03:03,920
第 1

47
00:03:03,920 --> 00:03:06,160
步，我们到底如何对情况进行建模，以及您到底想要优化什么？

48
00:03:06,960 --> 00:03:10,640
一种选择是认为每个卖家都会产生积极或消极的随机体验，并且每个卖家都有某种提供良好体验的恒定潜在概率，我们称之为成功率，或

49
00:03:10,640 --> 00:03:12,560


50
00:03:12,560 --> 00:03:18,080
S短的。

51
00:03:18,080 --> 00:03:21,200


52
00:03:21,760 --> 00:03:23,920
整个挑战是我们不了解 S。

53
00:03:25,520 --> 00:03:28,640
当您看到 10 条评论的首次评级为

54
00:03:28,640 --> 00:03:31,040
100% 时，这并不意味着潜在的成功率为 100%。

55
00:03:31,840 --> 00:03:33,920
很可能是 95% 左右。

56
00:03:34,800 --> 00:03:37,520
为了说明这一点，让我运行一个小模拟，我选择一个 0 到

57
00:03:37,520 --> 00:03:40,400
1 之间的随机数，以及它是否小于 0。

58
00:03:40,400 --> 00:03:44,480
95、我会把它记为正面评论，否则记为负面评论。

59
00:03:44,480 --> 00:03:47,280


60
00:03:48,960 --> 00:03:50,640
现在连续执行 10 次，然后再做

61
00:03:52,080 --> 00:03:53,280
10 次、再做

62
00:03:54,240 --> 00:03:55,040
10 次、再做

63
00:03:56,240 --> 00:03:57,200
10 次，以此类推，以了解成功率为

64
00:03:57,200 --> 00:03:57,920
0 的卖家的

65
00:03:57,920 --> 00:04:03,920
10 条评论的顺序。 95往往看起来像。

66
00:04:03,920 --> 00:04:04,880


67
00:04:05,600 --> 00:04:09,920
其中相当多的人（实际上大约 60%）给出了满分 10 分的评分。

68
00:04:09,920 --> 00:04:14,640
因此，如果卖家的真实成功率为 95%，那么我们看到的数据似乎完全合理。

69
00:04:15,680 --> 00:04:18,160
或者也许真的是90%，或者99%。

70
00:04:18,720 --> 00:04:20,560
整个挑战在于我们不知道。

71
00:04:21,440 --> 00:04:26,720
至于目标，假设您只是想最大限度地提高获得积极体验的可能性，尽管不确定成功率。

72
00:04:26,720 --> 00:04:28,880


73
00:04:30,080 --> 00:04:31,360
所以在这里考虑一下这个问题。

74
00:04:31,360 --> 00:04:36,960
我们为每个卖家提供了许多不同的可能成功率，从 0

75
00:04:36,960 --> 00:04:41,200
到 1

76
00:04:41,200 --> 00:04:43,920
的任意数字，并且我们需要说明这些成功率中的每一个的可能性有多大，这是一种概率的概率。

77
00:04:45,040 --> 00:04:48,480
与抛硬币和掷骰子等更加游戏化的例子不同，以及您在介绍性概率课程中看到的那种事情，您假设长期运行频率，例如二分之一或六分之一，我们在这里拥有的是关于长期运行频率本身，这是一种更强烈的怀疑。

78
00:04:48,480 --> 00:04:51,120


79
00:04:51,120 --> 00:04:55,840


80
00:04:55,840 --> 00:05:00,080


81
00:05:00,080 --> 00:05:02,000


82
00:05:02,880 --> 00:05:08,160
我还应该强调，这种设置与现实世界中的许多情况相关，在这些情况下，您需要根据有限的数据对随机过程做出判断。

83
00:05:08,160 --> 00:05:11,680


84
00:05:12,640 --> 00:05:16,240
例如，假设您正在建立一家生产汽车的工厂，在对 100

85
00:05:16,240 --> 00:05:20,720
辆汽车进行初步测试时，其中两辆出现了某种问题。

86
00:05:21,440 --> 00:05:24,960
如果您计划生产 100

87
00:05:24,960 --> 00:05:30,480
万辆汽车，您愿意自信地说有多少辆汽车将出现需要解决的问题？

88
00:05:31,040 --> 00:05:34,160
测试并不是保证真实错误率为2%，但它到底说了什么？

89
00:05:34,960 --> 00:05:36,480


90
00:05:38,560 --> 00:05:40,800
作为您的第一个挑战，让我问您这个问题。

91
00:05:40,800 --> 00:05:45,200
如果您确实神奇地知道某个卖家的真实成功率（假设为 95%），您将如何计算看到 10 条正面评论和

92
00:05:46,080 --> 00:05:49,680
0 条负面评论、48 条和 2

93
00:05:49,680 --> 00:05:56,160
条、186 条和 14 条的概率？

94
00:05:57,040 --> 00:06:02,000
换句话说，在给定假设的成功率的情况下，看到数据的概率是多少？

95
00:06:03,040 --> 00:06:08,240
刚才，我通过模拟向您展示了类似的东西，生成

96
00:06:08,240 --> 00:06:11,280
10

97
00:06:11,280 --> 00:06:14,640
条随机评论，并且通过一些编程，您可以多次执行此操作，构建直方图以了解此分布的样子。

98
00:06:21,680 --> 00:06:24,400
同样，您可以模拟 50 条评论，并了解看到 48

99
00:06:24,400 --> 00:06:29,120
条正面评论和 2 条负面评论的可能性有多大。

100
00:06:29,760 --> 00:06:31,760
你看，这就是概率的好处。

101
00:06:31,760 --> 00:06:34,560
一点点编程几乎总能让你作一点小作弊，并通过模拟提前看看答案是什么。

102
00:06:34,560 --> 00:06:37,680


103
00:06:37,680 --> 00:06:41,200
例如，在 50 条评论的几十万个样本之后，假设成功率为

104
00:06:41,200 --> 00:06:42,880
95%，那么看起来大约是 26 条。

105
00:06:43,680 --> 00:06:48,160
其中 1% 的人会给我们 48 分（满分 50 分）的评价。

106
00:06:49,120 --> 00:06:52,800
幸运的是，在这种情况下，精确的公式一点也不差。

107
00:06:52,800 --> 00:06:56,560
50 次中恰好看到 48 次的概率如下所示。

108
00:06:57,600 --> 00:07:00,960
第一项发音为 50 选择

109
00:07:00,960 --> 00:07:04,960
48，它表示您可以选择 50 个空位并填写其中的

110
00:07:06,000 --> 00:07:07,600
48 个空位的方式总数。

111
00:07:09,280 --> 00:07:13,520
例如，也许您以 48 条好评开始，以 2

112
00:07:13,520 --> 00:07:18,400
条差评结束，或者您可能以 47 条好评开始，然后变得很差、好、坏，等等。

113
00:07:18,960 --> 00:07:22,080
原则上，如果您要像这样枚举填充 50 个槽中的

114
00:07:22,080 --> 00:07:24,800
48 个槽的所有可能方法，则这些模式的总数为

115
00:07:24,800 --> 00:07:28,480
50 选择

116
00:07:28,480 --> 00:07:31,840
48，在本例中计算结果为 1,225。

117
00:07:32,480 --> 00:07:34,160
我们乘以这个计数是多少？

118
00:07:34,160 --> 00:07:37,120
好吧，它是这些模式中任何一种模式的概率，即单个正面评论的概率提高到单个负面评论概率平方的

119
00:07:37,120 --> 00:07:41,440
48

120
00:07:41,440 --> 00:07:44,800
倍。

121
00:07:45,440 --> 00:07:49,120
至关重要的是，我们假设每个评论都独立于上一个评论，因此我们可以像这样将所有概率相乘，并用我们拥有的数字，当你评估它时，结果是

122
00:07:49,120 --> 00:07:51,920
0。

123
00:07:52,480 --> 00:07:57,360
261，这与我们刚刚在模拟中凭经验看到的结果相符。

124
00:07:57,360 --> 00:08:00,160


125
00:08:02,000 --> 00:08:04,960
您还可以将这个

126
00:08:04,960 --> 00:08:08,640
48

127
00:08:09,200 --> 00:08:11,280
替换为其他值，并计算看到任何其他数量的正面评论的概率，再次假设给定的成功率。

128
00:08:14,880 --> 00:08:16,960
顺便说一句，您现在看到的在业界称为二项式分布，这是概率中最基本的分布之一。

129
00:08:16,960 --> 00:08:20,000


130
00:08:20,000 --> 00:08:23,680


131
00:08:23,680 --> 00:08:26,480
每当你遇到像抛硬币这样的事情时，它就会出现，这是一个可以以两种方式之一发生的随机事件，并且你重复多次，而你想知道的是获得各种不同总数的概率。

132
00:08:26,480 --> 00:08:31,040


133
00:08:31,040 --> 00:08:35,120


134
00:08:36,560 --> 00:08:41,120
出于我们的目的，这个公式为我们提供了在给定假设成功率的情况下看到数据的概率，最终我们希望以某种方式使用它来做出相反的判断，即给定我们看到的固定数据的成功率概率。

135
00:08:41,120 --> 00:08:43,360


136
00:08:43,360 --> 00:08:47,360


137
00:08:47,360 --> 00:08:51,120


138
00:08:51,120 --> 00:08:53,440
这些是相关的，但绝对不同。

139
00:08:54,560 --> 00:08:57,920
为了在这个方向上获得更多信息，让我们尝试一下 s 的值，看看当我们将其更改为 0

140
00:08:57,920 --> 00:09:02,080
到 1 之间的不同数字时会发生什么。

141
00:09:04,320 --> 00:09:08,320
它产生的二项式分布有点像以 s 乘以

142
00:09:08,320 --> 00:09:10,720
50 为中心的一堆。

143
00:09:11,280 --> 00:09:15,760
我们关心的值，即在 50 条评论中看到 48

144
00:09:15,760 --> 00:09:18,640
条评论的概率，由突出显示的第 48 条表示。

145
00:09:19,440 --> 00:09:24,480
因此，让我们在底部绘制第二个图，表示该值如何取决于 s。

146
00:09:25,440 --> 00:09:30,640
当s等于0时。 96，这个值是有史以来最高的。

147
00:09:30,640 --> 00:09:34,640
这应该是有道理的，因为当你看到 96%

148
00:09:35,440 --> 00:09:39,280
的评论时，最有可能的是真正的潜在成功率为 96%。

149
00:09:41,120 --> 00:09:46,480
随着 s 的增加，它会逐渐减弱，当 s

150
00:09:46,480 --> 00:09:50,400
接近 1 时，它会趋于 0，因为具有完美成功率的人永远不会有这两个负面评论。

151
00:09:51,280 --> 00:09:54,400
另外，当你向左移动时，它很快就会接近 0。

152
00:09:56,800 --> 00:09:59,760
当你得到 s 等于 0 的时候。 8、在

153
00:09:59,760 --> 00:10:03,280
50 条评论中偶然获得

154
00:10:03,280 --> 00:10:05,040
48 条的情况极为罕见，这种情况发生的几率是千分之一。

155
00:10:06,160 --> 00:10:10,320
我们在底部绘制的这个图是获得更定量描述的一个很好的开始，对于这些描述，s

156
00:10:10,320 --> 00:10:13,360
的值感觉或多或少是合理的。

157
00:10:14,400 --> 00:10:19,280
写成一个公式，我希望您记住的是，作为成功率 s 的函数，该曲线看起来像是某个常数乘以

158
00:10:19,280 --> 00:10:24,960
s 的正面评论数量乘以 1

159
00:10:24,960 --> 00:10:28,000
减去 s 的负面评论数量。

160
00:10:28,960 --> 00:10:34,560
原则上，如果我们有更多数据，例如 480 条正面评论和 20

161
00:10:34,560 --> 00:10:37,440
条负面评论，结果图仍将以 0 为中心。 96，但会更小、更集中。

162
00:10:37,440 --> 00:10:39,520


163
00:10:40,080 --> 00:10:44,160
现在一个很好的练习是看看你是否可以解释为什么会出现这种情况。

164
00:10:45,360 --> 00:10:49,440
然而，还有一个挥之不去的问题：如何处理这些曲线。

165
00:10:50,000 --> 00:10:54,880
我的意思是，我们的目标是计算您与该卖家有良好体验的概率，那么您会做什么？

166
00:10:54,880 --> 00:10:55,600


167
00:10:56,720 --> 00:10:59,760
天真地，您可能认为概率是

168
00:11:00,400 --> 00:11:05,440
96%，因为那是图表的峰值所在，从某种意义上来说，这是最有可能的成功率。

169
00:11:05,440 --> 00:11:08,400
但想想这个例子，十个中有十个是积极的。

170
00:11:08,400 --> 00:11:13,200
在这种情况下，整个二项式公式简化为 s 的 10 次方。

171
00:11:14,880 --> 00:11:17,840
连续看到 10 条好评的概率就是看到其中一条好评上升到第

172
00:11:17,840 --> 00:11:20,640
10 条的概率。

173
00:11:21,360 --> 00:11:26,560
真实成功率越接近 1，在 10 中看到 10 的概率就越高。

174
00:11:27,120 --> 00:11:30,880
当 s 接近 1 时，我们底部的图只会增加。

175
00:11:32,320 --> 00:11:36,560
但即使 s 等于

176
00:11:36,560 --> 00:11:40,240
1 是使该概率最大化的值，您肯定也不会放心地说您个人有

177
00:11:40,240 --> 00:11:42,480
100% 的概率与该卖家获得良好体验。

178
00:11:43,440 --> 00:11:48,240
也许您认为我们应该寻找该图的某种质心，这绝对是在正确的轨道上。

179
00:11:48,240 --> 00:11:50,240


180
00:11:51,280 --> 00:11:54,800
不过，首先，我们需要解释如何使用这个表达式来表示给定 s

181
00:11:54,800 --> 00:11:58,720
值时我们所看到的数据的概率，并获得

182
00:11:58,720 --> 00:12:02,720
s

183
00:12:02,720 --> 00:12:04,800
值的概率，这是我们实际上不知道的，给定数据，我们实际知道的东西。

184
00:12:05,600 --> 00:12:09,920
这就需要我们讨论贝叶斯规则以及概率密度函数。

185
00:12:10,480 --> 00:12:13,040
对于这些，我们将在第 2 部分中见。

